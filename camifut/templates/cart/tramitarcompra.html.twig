{# Hereta l'estil i l'estructura base del lloc web #}
{% extends 'base.html.twig' %}

{# Títol de la pàgina per a la finalització de la compra #}
{% block title %}Tramitar comanda - CamiFut{% endblock %}

{% block body %}
    <main class="container">
        {# 
           Formulari de finalització de compra. 
           Envia les dades via POST a la ruta 'comprado' per a processar el pagament.
        #}
        <form class="form" method="post" action="{{ path('comprado') }}">
            
            {# Secció de dades personals i d'enviament #}
            <div class="form-group">
                <label for="name">Nom</label>
                <input type="text" id="name" name="name" required>
            </div>
            
            <div class="form-group">
                <label for="address">Adreça</label>
                <input type="text" id="address" name="address" required>
            </div>

            <div class="form-group">
                <label for="zip">Codi postal</label>
                <input type="text" id="zip" name="zip" required>
            </div>

            <div class="form-group">
                <label for="phone">Telèfon</label>
                <input type="text" id="phone" name="phone" required>
            </div>

            {# Secció de dades de pagament (Targeta bancària) #}
            <div class="form-group">
                <label for="card_number">Número de la targeta</label>
                <input type="text" id="card_number" name="card_number" required>
            </div>

            <div class="form-group">
                <label for="card_expiry">Data d'expiració</label>
                <input type="text" id="card_expiry" name="card_expiry" required>
            </div>

            <div class="form-group">
                <label for="card_cvv">CVV</label>
                <input type="text" id="card_cvv" name="card_cvv" required>
            </div>

            {# Resum del cost total que l'usuari ha de confirmar #}
            <div class="form-group">
                <label for="totalapagar">Total a pagar</label>
                {# El valor s'omple automàticament amb la variable 'total' enviada des del controlador #}
                <input type="text" id="totalapagar" name="totalapagar" value="{{ total }}" readonly>
            </div>

            {# Botó final per a confirmar la transacció #}
            <button type="submit" class="btn btn-primary">Tramitar comanda</button>
        </form>
    </main>
{% endblock %}